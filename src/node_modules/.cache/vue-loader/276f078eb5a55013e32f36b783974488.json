{"remainingRequest":"/home/smedov/Work/Vue/VUE_CLI_Telegram_bot_api/VUE_CLI/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/smedov/Work/Vue/VUE_CLI_Telegram_bot_api/VUE_CLI/src/components/ListOfUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/smedov/Work/Vue/VUE_CLI_Telegram_bot_api/VUE_CLI/src/components/ListOfUser.vue","mtime":1572254131687},{"path":"/home/smedov/Work/Vue/VUE_CLI_Telegram_bot_api/VUE_CLI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/smedov/Work/Vue/VUE_CLI_Telegram_bot_api/VUE_CLI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/smedov/Work/Vue/VUE_CLI_Telegram_bot_api/VUE_CLI/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n  export default {\n    props: ['userList','deleteUser','changePassword', 'users'],  // массив с App.vue\n\n    data(){\n      return {\n        sortDirection: '',    // ??????????????????????????????????????????\n        sortResult: '',\n        newPass: {\n          firstInput: '',\n          secondInput: '',\n        },\n        userId: '',\n        changeModalShow:false,\n      }\n    },\n\n    computed:{    // вычисляемое свойство\n      sortTableUp: function() {   //Функция сортировки\n        let col = this.sortResult     //переменная хранящая название колонки\n        let dir = this.sortDirection  //переменная хранящая в себе значение up & down\n\n        return this.userList.slice().sort(function(a, b) {\n          let modifier = -1;\n          if(dir=='up') modifier = 1\n          if (a[col] > b[col]) return 1*modifier;\n          else if (a[col] < b[col]) return -1*modifier;\n          else return 0;\n        })\n    }\n  },\n  methods: {\n    changePasswordBtn() {\n      this.changePassword(this.newPass.firstInput, this.newPass.secondInput,this.userId)\n      console.log(this.userId)\n      this.userId = \"\";\n      this.newPass.firstInput = \"\";\n      this.newPass.secondInput = \"\";\n    },\n    showModalWindow(id) {\n      this.changeModalShow = true\n      this.userId = id\n    }\n  }\n}\n\n",{"version":3,"sources":["ListOfUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListOfUser.vue","sourceRoot":"components","sourcesContent":["<template lang='pug'>\n.container-fluid\n  table.table.table-bordered.mt-3.text-center\n    thead.thead-light\n      tr\n        th(scope='col' width='5%') Id\n          img.ml-2(@click = \"sortResult='id'; sortDirection='up' \" src='../assets/sort-up.svg' width = \"15\" height=\"15\")\n          img(@click = \"sortResult='id'; sortDirection='down' \" src='../assets/sort-down.svg' width = \"15\" height=\"15\")\n        th(scope='col' width='5%') Status\n        th(scope='col') Name\n          img.ml-2(@click = \"sortResult='name'; sortDirection='up' \" src='../assets/sort-up.svg' width = \"15\" height=\"15\")\n          img(@click = \"sortResult='name'; sortDirection='down' \" src='../assets/sort-down.svg' width = \"15\" height=\"15\")\n        th(scope='col') Login\n          img.ml-2(@click = \"sortResult='login'; sortDirection='up'\"  src='../assets/sort-up.svg' width = \"15\" height=\"15\")\n          img(@click = \"sortResult='login'; sortDirection='down'\" src='../assets/sort-down.svg' width = \"15\" height=\"15\")\n\n          th(scope='col' v-if='users.status==\"Admin\"') Password\n          th(scope='col' v-if='users.status==\"Admin\"') Salt\n          th(scope='col' width='10%' v-if='users.status==\"Admin\"') Сhange Password\n          th(scope='col' width='5%' v-if='users.status==\"Admin\"') Remove\n\n    tr(scope='row' v-for='(user, index) in sortTableUp' :key='index')\n      td.bg-light {{ user.id }}\n      td.bg-light {{ user.status }}\n      td.bg-light {{ user.name }}\n      td.bg-light {{ user.login}}\n\n      td.bg-light(v-if='users.status==\"Admin\"') {{ user.password}}\n      td.bg-light(v-if='users.status==\"Admin\"') {{ user.salt}}\n      td.bg-light(v-if='users.status==\"Admin\"')\n        b-button( pill variant=\"outline-info\" size='sm' @click=\"showModalWindow(user.id)\") Change\n      td.bg-light(v-if='users.status==\"Admin\"')\n        a(@click='deleteUser(user.id)' )\n          img(src='../assets/remove.svg' width='32' height='32')\n\n\n  b-modal#bv-modal-example3(v-model=\"changeModalShow\" size='sm' ref=\"my-modal\" hide-footer=\"\" header-bg-variant='primary' body-bg-variant='light')\n    template(slot=\"modal-title\")\n      h4.text-light Change Password\n    .d-block.text-right\n      form(ref=\"form\" )\n        b-form-group.text-left( label=\"New Password\" )\n          b-form-input( v-model.trim='newPass.firstInput')\n        b-form-group.text-left( label=\"Confirm the password\" )\n          b-form-input(type='text' v-model.trim='newPass.secondInput')\n        b-button.mx-2(@click=\"changePasswordBtn(userId);$bvModal.hide('bv-modal-example3')\"  size=\"sm\" variant=\"outline-success\") Apply\n</template>\n\n\n<script>\n\n  export default {\n    props: ['userList','deleteUser','changePassword', 'users'],  // массив с App.vue\n\n    data(){\n      return {\n        sortDirection: '',    // ??????????????????????????????????????????\n        sortResult: '',\n        newPass: {\n          firstInput: '',\n          secondInput: '',\n        },\n        userId: '',\n        changeModalShow:false,\n      }\n    },\n\n    computed:{    // вычисляемое свойство\n      sortTableUp: function() {   //Функция сортировки\n        let col = this.sortResult     //переменная хранящая название колонки\n        let dir = this.sortDirection  //переменная хранящая в себе значение up & down\n\n        return this.userList.slice().sort(function(a, b) {\n          let modifier = -1;\n          if(dir=='up') modifier = 1\n          if (a[col] > b[col]) return 1*modifier;\n          else if (a[col] < b[col]) return -1*modifier;\n          else return 0;\n        })\n    }\n  },\n  methods: {\n    changePasswordBtn() {\n      this.changePassword(this.newPass.firstInput, this.newPass.secondInput,this.userId)\n      console.log(this.userId)\n      this.userId = \"\";\n      this.newPass.firstInput = \"\";\n      this.newPass.secondInput = \"\";\n    },\n    showModalWindow(id) {\n      this.changeModalShow = true\n      this.userId = id\n    }\n  }\n}\n\n</script>\n"]}]}